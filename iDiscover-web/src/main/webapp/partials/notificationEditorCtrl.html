<div hide-modal should-show="dialogVisible">
    <div class="modal-header">
        <h4 ng-bind='title'></h4>
    </div>
    <div class="modal-body">
        <div ng-show="isLoading" style="margin-top: 4px">
            <i class="fa fa-spinner fa-spin pull-left" style="margin: 3px"></i>
            <span>Loading...</span>
        </div>
        <form class="form-horizontal" name="$parent.form" ng-submit="save()" ng-show="!isLoading">
            <div class="control-group">
                <label class="control-label">Item</label>
                <div class="controls">
                   <div outline-item-lookup selectable-data-types="selectableDataTypes" selectable-element-types="selectableElementTypes" study-def-id="studyDefId" dialog-changed="dialogChanged" selected-item="selectedItem.item"></div>
                </div>
            </div>
            <div class="control-group" ng-show="showObjectStateTypes()">
                <label class="control-label">When Status is equal to?</label>
                <div class="controls">
                    <select ng-required='showObjectStateTypes()' ng-model="data.objectStateTypeId" ng-options="i.id as i.name for i in objectStateTypes">
                    </select>
                </div>
            </div>

            <div class="control-group">
                <label class="control-label">Day(s) From Reference Date</label>
                <div class="controls">
                    <input type="number" min="0" class="input-small" step="1" ng-model="data.fromRef" >
                </div>
            </div>

            <div class="control-group">
                <label class="control-label">Time Window:  Day(s) Before</label>
                <div class="controls">
                    <input type="number" min="0" class="input-small" step="1" ng-model="data.beforeRef" >
                </div>
            </div>

            <div class="control-group">
                <label class="control-label">Time Window: Day(s) After</label>
                <div class="controls">
                    <input type="number" min="0" class="input-small" step="1" ng-model="data.afterRef" >
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <alert style="text-align:left" ng-repeat="alert in alerts" type="alert.type" close="closeAlert($index)">{{alert.msg}}</alert>
        <button class="btn btn-primary" ng-disabled="!isValid(form)" ng-click="save()" >Save</button>
        <button class="btn" ng-click="cancel()" >Cancel</button>
    </div>
</div>
